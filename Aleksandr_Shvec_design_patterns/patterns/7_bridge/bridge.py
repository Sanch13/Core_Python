"""
–ú–æ—Å—Ç ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤
–Ω–∞ –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –ø–æ–∑–≤–æ–ª—è—è –∏–∑–º–µ–Ω—è—Ç—å –∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏: –ü—Ä–µ–¥—Å—Ç–∞–≤—å –ø—É–ª—å—Ç –æ—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞. –ü—É–ª—å—Ç (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è) –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏
 —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞–º–∏ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏) ‚Äî Samsung, LG, Sony. –¢—ã –º–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –Ω–µ –º–µ–Ω—è—è –ø—É–ª—å—Ç,
 –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø—É–ª—å—Ç —Å —Ç–µ–º –∂–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–º.

‚úÖ –î–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞
–ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
–ò–∑–±–µ–≥–∞–Ω–∏–µ "–≤–∑—Ä—ã–≤–∞ –∫–ª–∞—Å—Å–æ–≤" ‚Äî –≤–º–µ—Å—Ç–æ N√óM –∫–ª–∞—Å—Å–æ–≤ –ø–æ–ª—É—á–∞–µ–º N+M
–û—Ç–∫—Ä—ã—Ç/–ó–∞–∫—Ä—ã—Ç –ø—Ä–∏–Ω—Ü–∏–ø ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ï–¥–∏–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å–≤–æ–∏–º –¥–µ–ª–æ–º

‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ ‚Äî –µ—Å–ª–∏ —É —Ç–µ–±—è –≤—Å–µ–≥–æ 2-3 –∫–ª–∞—Å—Å–∞, Bridge –º–æ–∂–µ—Ç –±—ã—Ç—å overkill

üéØ –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
GUI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ ‚Äî –∫–Ω–æ–ø–∫–∏/–æ–∫–Ω–∞ (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è) + Windows/Linux/MacOS (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
–î—Ä–∞–π–≤–µ—Ä—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö ‚Äî ORM (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è) + PostgreSQL/MySQL/SQLite (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ‚Äî —Ñ–∏–≥—É—Ä—ã (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è) + Canvas/SVG/OpenGL (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
–ü–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã ‚Äî API –æ–ø–ª–∞—Ç—ã (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è) + Stripe/PayPal/Visa (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
"""

from abc import ABC, abstractmethod


# ============== –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø (Implementation) ==============
# –≠—Ç–æ "–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞" –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

class MessageSender(ABC):
	"""–ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤ –æ—Ç–ø—Ä–∞–≤–∫–∏"""

	@abstractmethod
	def send(self, message: str, recipient: str) -> None:
		pass


class EmailSender(MessageSender):
	"""–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Email"""

	def send(self, message: str, recipient: str) -> None:
		print(f"üìß Email –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ {recipient}")
		print(f"   –¢–µ–∫—Å—Ç: {message}\n")


class SMSSender(MessageSender):
	"""–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ SMS"""

	def send(self, message: str, recipient: str) -> None:
		print(f"üì± SMS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ {recipient}")
		print(f"   –¢–µ–∫—Å—Ç: {message}\n")


class PushSender(MessageSender):
	"""–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""

	def send(self, message: str, recipient: str) -> None:
		print(f"üîî Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ {recipient}")
		print(f"   –¢–µ–∫—Å—Ç: {message}\n")


# ============== –ê–ë–°–¢–†–ê–ö–¶–ò–Ø (Abstraction) ==============
# –≠—Ç–æ "—Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π"

class Message(ABC):
	"""–ë–∞–∑–æ–≤–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è"""

	def __init__(self, sender: MessageSender):
		# –ú–æ—Å—Ç! –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
		self.sender = sender

	@abstractmethod
	def send(self, text: str, recipient: str) -> None:
		pass


class NormalMessage(Message):
	"""–û–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""

	def send(self, text: str, recipient: str) -> None:
		formatted_text = f"[–û–±—ã—á–Ω–æ–µ] {text}"
		self.sender.send(formatted_text, recipient)


class UrgentMessage(Message):
	"""–°—Ä–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""

	def send(self, text: str, recipient: str) -> None:
		formatted_text = f"‚ö†Ô∏è [–°–†–û–ß–ù–û] {text.upper()}"
		self.sender.send(formatted_text, recipient)


class ConfidentialMessage(Message):
	"""–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""

	def send(self, text: str, recipient: str) -> None:
		# –ú–∞—Å–∫–∏—Ä—É–µ–º —á–∞—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
		masked = text[:10] + "***" if len(text) > 10 else text
		formatted_text = f"üîí [–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ] {masked}"
		self.sender.send(formatted_text, recipient)


# ============== –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï ==============

def main():
	print("=== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ü–ê–¢–¢–ï–†–ù–ê BRIDGE ===\n")

	# –°–æ–∑–¥–∞—ë–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∫–∞–Ω–∞–ª—ã –æ—Ç–ø—Ä–∞–≤–∫–∏)
	email = EmailSender()
	sms = SMSSender()
	push = PushSender()

	# –°–æ–∑–¥–∞—ë–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (—Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π) —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏

	# 1. –û–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Email
	normal_email = NormalMessage(email)
	normal_email.send("–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?", "user@example.com")

	# 2. –°—Ä–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SMS
	urgent_sms = UrgentMessage(sms)
	urgent_sms.send("–í—Å—Ç—Ä–µ—á–∞ —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç!", "+7-999-123-4567")

	# 3. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —á–µ—Ä–µ–∑ Push
	confidential_push = ConfidentialMessage(push)
	confidential_push.send("–í–∞—à –ø–∞—Ä–æ–ª—å: SecretPass123", "device_id_12345")

	# 4. –ú–æ–∂–µ–º –ª–µ–≥–∫–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ —É–≥–æ–¥–Ω–æ!
	urgent_email = UrgentMessage(email)
	urgent_email.send("–°–µ—Ä–≤–µ—Ä —É–ø–∞–ª!", "admin@company.com")

	print("\nüí° –í–ê–ñ–ù–û:")
	print("- –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª (Telegram) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è Message")
	print("- –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø (SystemMessage) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è Sender")
	print("- –õ—é–±–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏!")


if __name__ == "__main__":
	main()
