"""
üìù –ó–∞–¥–∞–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞
–ö–æ–Ω—Ç–µ–∫—Å—Ç:
–¢—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä. –£ —Ç–µ–±—è –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–π —Ç–µ–∫—Å—Ç, –∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫
–Ω–µ–º—É —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

–ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: –∫–ª–∞—Å—Å PlainText ‚Äî –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–∞–∫ –µ—Å—Ç—å
–°–æ–∑–¥–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:

UpperCaseDecorator ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –í–ï–†–•–ù–ò–ô –†–ï–ì–ò–°–¢–†
TrimDecorator ‚Äî —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ
HtmlDecorator ‚Äî –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ HTML-—Ç–µ–≥–∏ <p>...</p>
MarkdownDecorator ‚Äî –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ –º–∞—Ä–∫–¥–∞—É–Ω: **—Ç–µ–∫—Å—Ç**
PrefixDecorator ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å –≤ –Ω–∞—á–∞–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ">>> ")


–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –≤—Å–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –º–µ—Ç–æ–¥ get_content() -> str
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: –ø–æ–∫–∞–∂–∏ –º–∏–Ω–∏–º—É–º 3 —Ä–∞–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Üí –±–∞–∑–æ–≤—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å):
–î–æ–±–∞–≤—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä CensorDecorator, –∫–æ—Ç–æ—Ä—ã–π:

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤
–ó–∞–º–µ–Ω—è–µ—Ç –∏—Ö –Ω–∞ ***
"""

from abc import ABC, abstractmethod


# 1. –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class Text(ABC):
	@abstractmethod
	def get_content(self) -> str:
		pass


# 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class PlainText(Text):
	def __init__(self, text: str):
		self.text = text

	def get_content(self) -> str:
		return self.text


# 3. –ë–∞–∑–æ–≤—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
class TextDecorator(Text):
	def __init__(self, txt: Text):
		self._txt = txt

	def get_content(self) -> str:
		return self._txt.get_content()


# 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
class UpperCaseDecorator(TextDecorator):
	def get_content(self) -> str:
		return self._txt.get_content().upper()


class TrimDecorator(TextDecorator):
	def get_content(self) -> str:
		return self._txt.get_content().strip()


class HtmlDecorator(TextDecorator):
	def get_content(self) -> str:
		return f"<p>{self._txt.get_content()}</p>"


class MarkdownDecorator(TextDecorator):
	def get_content(self) -> str:
		return f"**{self._txt.get_content()}**"


class PrefixDecorator(TextDecorator):
	def __init__(self, txt: Text, prefix: str = ">>> "):
		super().__init__(txt)
		self._prefix = prefix

	def get_content(self) -> str:
		return f"{self._prefix}{self._txt.get_content()}"


class CensorDecorator(TextDecorator):
	def __init__(self, txt: Text, words: list[str]):
		super().__init__(txt)
		self._words = words

	def get_content(self) -> str:
		text1 = ["***" if word in self._words else word for word in self._txt.get_content().split()]
		return " ".join(text1)


if __name__ == "__main__":
	print()
	# –ë–∞–∑–æ–≤—ã–π —Ç–µ–∫—Å—Ç
	text = PlainText("  hello world  ")
	print(text.get_content())

	text = UpperCaseDecorator(PlainText("  hello world  "))
	print(text.get_content())

	# –° –æ–¥–Ω–∏–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º
	text = TrimDecorator(PlainText("  hello world  "))
	print(text.get_content())
	# –í—ã–≤–æ–¥: "hello world"

	# –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏
	text = HtmlDecorator(UpperCaseDecorator(TrimDecorator(PlainText("  hello world  "))))
	print(text.get_content())
	# –í—ã–≤–æ–¥: "<p>HELLO WORLD</p>"

	# –î—Ä—É–≥–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
	text = PrefixDecorator(MarkdownDecorator(PlainText("important")), prefix="NOTE: ")
	print(text.get_content())
	# –í—ã–≤–æ–¥: "NOTE: **important**"

	# –î—Ä—É–≥–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
	text = PrefixDecorator(HtmlDecorator(PlainText("awefae rgqew")))
	print(text.get_content())

	text = CensorDecorator(
		PlainText("This is bad and ugly text"),
		words=["bad", "ugly"]
	)
	print(text.get_content())

	text = PrefixDecorator(PrefixDecorator(PlainText("test"), ">> "), ">> ")
	print(text.get_content())
